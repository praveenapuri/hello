# main.tf (in your project's root directory)

# Configure the AWS Provider
provider "aws" {
  region = "us-east-1"
}

# Call the dashboards module
module "my_app_dashboards" {
  source     = "./modules/dashboards"
  aws_region = "us-east-1"

  # Define all the EC2 dashboards you want to create here
  ec2_dashboards = {
    "prod-web-server-01" = {
      instance_id = "i-0abcdef1234567890"
      disk_path   = "/"
    }
    "prod-db-server-01" = {
      instance_id      = "i-0987654321fedcba0"
      disk_device      = "xvda1"
      disk_path        = "/data"
      file_system_type = "ext4"
    }
    "staging-app-server" = {
      instance_id = "i-0a1b2c3d4e5f6g7h8"
    }
  }

  # When you're ready to add RDS dashboards, you'll define them here
  # rds_dashboards = {
  #   "prod-main-db" = {
  #     db_instance_identifier = "my-prod-database"
  #   }
  # }
}

# Output the names of all created dashboards
output "created_dashboard_names" {
  value = module.my_app_dashboards.dashboard_names
}
