  # This block transforms the raw event into a structured JSON object for clean email formatting.
  input_transformer {
    input_paths = {
      "documentName" = "$.detail.document-name",
      "commandId"    = "$.detail.command-id",
      "status"       = "$.detail.status",
      "region"       = "$.region"
    }
    input_template = jsonencode({
      "Alert"       = "SSM Command Failed in Environment: ${var.env}",
      "Document"    = "<documentName>",
      "Command ID"  = "<commandId>",
      "Status"      = "<status>",
      "Region"      = "<region>",
      "Message"     = "Please check the SSM Run Command history in the AWS Console for details."
    })
  }
